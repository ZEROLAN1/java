# å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸ‰ é¡¹ç›®æ”¹é€ å®Œæˆ

å·²å°†ä¼ ç»Ÿçš„ Spring Boot + Thymeleaf å•ä½“åº”ç”¨æ”¹é€ ä¸ºç°ä»£åŒ–çš„**å‰åç«¯åˆ†ç¦»æ¶æ„**ï¼š

### æŠ€æœ¯æ ˆ
- **åç«¯**: Spring Boot + JWT + REST API
- **å‰ç«¯**: React + Vite + TailwindCSS
- **æ•°æ®åº“**: MySQL 8.0
- **éƒ¨ç½²**: Docker + Docker Compose

---

## ğŸš€ ä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰

### æ–¹æ³•ä¸€ï¼šDocker Composeï¼ˆæœ€ç®€å•ï¼‰

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd d:\cloud\java-cloud-storage

# 2. å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆå‰ç«¯ + åç«¯ + æ•°æ®åº“ï¼‰
docker-compose up -d

# 3. æŸ¥çœ‹å¯åŠ¨çŠ¶æ€
docker-compose ps

# 4. è®¿é—®åº”ç”¨
# æµè§ˆå™¨æ‰“å¼€: http://localhost
```

å°±è¿™ä¹ˆç®€å•ï¼åº”ç”¨ä¼šåœ¨ http://localhost è¿è¡Œã€‚

### åœæ­¢æœåŠ¡

```bash
docker-compose down
```

---

## ğŸ’» æœ¬åœ°å¼€å‘

### åç«¯å¼€å‘

```bash
# 1. ç¡®ä¿ MySQL æ­£åœ¨è¿è¡Œ
# 2. è¿è¡Œåç«¯
mvn spring-boot:run

# åç«¯è¿è¡Œåœ¨ http://localhost:8080
```

### å‰ç«¯å¼€å‘

```bash
# 1. è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# 2. å®‰è£…ä¾èµ–
npm install

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# å‰ç«¯è¿è¡Œåœ¨ http://localhost:3000
```

---

## ğŸŒ äº‘æœåŠ¡å™¨éƒ¨ç½²

### å‡†å¤‡å·¥ä½œ
- ä¸€å° Linux æœåŠ¡å™¨ï¼ˆUbuntu/CentOSï¼‰
- 2GB+ å†…å­˜ï¼Œ10GB+ ç¡¬ç›˜

### éƒ¨ç½²æ­¥éª¤

```bash
# 1. è¿æ¥æœåŠ¡å™¨
ssh root@ä½ çš„æœåŠ¡å™¨IP

# 2. å®‰è£… Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh

# 3. å®‰è£… Docker Compose
curl -L "https://github.com/docker/compose/releases/download/v2.20.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose

# 4. ä¸Šä¼ é¡¹ç›®åˆ°æœåŠ¡å™¨ï¼ˆä½¿ç”¨ git æˆ– scpï¼‰
git clone <your-repository>
cd java-cloud-storage

# 5. ä¿®æ”¹æ•°æ®åº“å¯†ç ï¼ˆé‡è¦ï¼ï¼‰
nano docker-compose.yml
# ä¿®æ”¹ MYSQL_ROOT_PASSWORD

# 6. å¯åŠ¨æœåŠ¡
docker-compose up -d

# 7. å¼€æ”¾ç«¯å£
ufw allow 80/tcp

# 8. è®¿é—®åº”ç”¨
# æµè§ˆå™¨æ‰“å¼€: http://ä½ çš„æœåŠ¡å™¨IP
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
java-cloud-storage/
â”œâ”€â”€ src/                    # åç«¯æºç 
â”‚   â”œâ”€â”€ main/java/com/cloudstorage/
â”‚   â”‚   â”œâ”€â”€ config/        # JWTã€Security é…ç½®
â”‚   â”‚   â”œâ”€â”€ controller/    # REST API æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthController.java     # ç™»å½•/æ³¨å†Œ
â”‚   â”‚   â”‚   â””â”€â”€ FileController.java     # æ–‡ä»¶ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ dto/           # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â”œâ”€â”€ model/         # å®ä½“ç±»ï¼ˆUserã€Fileï¼‰
â”‚   â”‚   â”œâ”€â”€ repository/    # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â””â”€â”€ service/       # ä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ resources/
â”‚       â””â”€â”€ application.properties
â”‚
â”œâ”€â”€ frontend/              # å‰ç«¯æºç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/        # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.jsx      # ç™»å½•é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Register.jsx   # æ³¨å†Œé¡µ
â”‚   â”‚   â”‚   â””â”€â”€ Dashboard.jsx  # æ–‡ä»¶ç®¡ç†é¡µ
â”‚   â”‚   â”œâ”€â”€ context/      # è®¤è¯ä¸Šä¸‹æ–‡
â”‚   â”‚   â””â”€â”€ App.jsx       # ä¸»åº”ç”¨
â”‚   â”œâ”€â”€ Dockerfile        # å‰ç«¯å®¹å™¨
â”‚   â””â”€â”€ nginx.conf        # Nginx é…ç½®
â”‚
â”œâ”€â”€ docker-compose.yml    # å®¹å™¨ç¼–æ’é…ç½®
â”œâ”€â”€ Dockerfile           # åç«¯å®¹å™¨
â”œâ”€â”€ README.md            # è¯¦ç»†æ–‡æ¡£
â””â”€â”€ DEPLOYMENT.md        # éƒ¨ç½²æŒ‡å—
```

---

## ğŸ”§ ä¸»è¦æ”¹åŠ¨

### åç«¯æ”¹é€ 
âœ… ç§»é™¤ Thymeleaf è§†å›¾å±‚  
âœ… æ·»åŠ  JWT è®¤è¯æœºåˆ¶  
âœ… æ”¹é€ ä¸º RESTful API  
âœ… æ·»åŠ  CORS è·¨åŸŸæ”¯æŒ  
âœ… åˆ›å»º DTO æ•°æ®ä¼ è¾“å¯¹è±¡  
âœ… ä¼˜åŒ– Security é…ç½®  

### å‰ç«¯åˆ›å»º
âœ… ä½¿ç”¨ React 18 + Vite  
âœ… TailwindCSS ç°ä»£åŒ– UI  
âœ… å“åº”å¼è®¾è®¡  
âœ… JWT Token ç®¡ç†  
âœ… æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½/åˆ é™¤åŠŸèƒ½  
âœ… æ¼‚äº®çš„ç™»å½•/æ³¨å†Œé¡µé¢  

### éƒ¨ç½²ä¼˜åŒ–
âœ… Docker å¤šé˜¶æ®µæ„å»º  
âœ… Nginx åå‘ä»£ç†  
âœ… å‰åç«¯åˆ†ç¦»éƒ¨ç½²  
âœ… ç”Ÿäº§ç¯å¢ƒé…ç½®  

---

## ğŸ“ API æ¥å£

### è®¤è¯æ¥å£
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•

### æ–‡ä»¶æ¥å£ï¼ˆéœ€è¦ JWT Tokenï¼‰
- `GET /api/files` - è·å–æ–‡ä»¶åˆ—è¡¨
- `POST /api/files/upload` - ä¸Šä¼ æ–‡ä»¶
- `GET /api/files/download/{id}` - ä¸‹è½½æ–‡ä»¶
- `DELETE /api/files/{id}` - åˆ é™¤æ–‡ä»¶

---

## ğŸ¨ ç•Œé¢é¢„è§ˆ

### åŠŸèƒ½ç‰¹æ€§
- ğŸ” ç”¨æˆ·æ³¨å†Œå’Œç™»å½•ï¼ˆJWT è®¤è¯ï¼‰
- ğŸ“¤ æ–‡ä»¶ä¸Šä¼ ï¼ˆæ”¯æŒæœ€å¤§ 10MBï¼‰
- ğŸ“¥ æ–‡ä»¶ä¸‹è½½
- ğŸ—‘ï¸ æ–‡ä»¶åˆ é™¤
- ğŸ“Š æ–‡ä»¶åˆ—è¡¨å±•ç¤º
- ğŸ’ ç°ä»£åŒ–å“åº”å¼ UI
- ğŸ¯ æ–‡ä»¶ç±»å‹å›¾æ ‡è¯†åˆ«

---

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

### Docker å‘½ä»¤

```bash
# å¯åŠ¨æœåŠ¡
docker-compose up -d

# åœæ­¢æœåŠ¡
docker-compose down

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
docker-compose ps

# é‡å¯æœåŠ¡
docker-compose restart

# é‡æ–°æ„å»º
docker-compose build --no-cache
docker-compose up -d
```

### ç»´æŠ¤å‘½ä»¤

```bash
# æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨
docker stats

# æ¸…ç†æœªä½¿ç”¨çš„é•œåƒ
docker image prune -a

# å¤‡ä»½æ•°æ®åº“
docker exec cloud-storage-db mysqldump -uroot -ppassword cloud_storage > backup.sql

# æ¢å¤æ•°æ®åº“
docker exec -i cloud-storage-db mysql -uroot -ppassword cloud_storage < backup.sql
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç”Ÿäº§ç¯å¢ƒåŠ¡å¿…ä¿®æ”¹å¯†ç **
   - ä¿®æ”¹ `docker-compose.yml` ä¸­çš„ `MYSQL_ROOT_PASSWORD`
   - ä¿®æ”¹ `application.properties` ä¸­çš„ `jwt.secret`

2. **é˜²ç«å¢™é…ç½®**
   - å¼€æ”¾ 80 ç«¯å£ï¼ˆHTTPï¼‰
   - å¼€æ”¾ 443 ç«¯å£ï¼ˆHTTPSï¼Œå¦‚æœéœ€è¦ï¼‰

3. **åŸŸåå’Œ HTTPS**
   - å‚è€ƒ `DEPLOYMENT.md` é…ç½® SSL è¯ä¹¦

4. **å®šæœŸå¤‡ä»½**
   - æ•°æ®åº“æ•°æ®
   - ä¸Šä¼ çš„æ–‡ä»¶

---

## ğŸ“š æ›´å¤šæ–‡æ¡£

- **README.md** - å®Œæ•´é¡¹ç›®æ–‡æ¡£
- **DEPLOYMENT.md** - è¯¦ç»†éƒ¨ç½²æŒ‡å—ï¼ˆåŒ…å« HTTPS é…ç½®ï¼‰

---

## â“ é—®é¢˜æ’æŸ¥

### ç«¯å£è¢«å ç”¨
ä¿®æ”¹ `docker-compose.yml` ä¸­çš„ç«¯å£æ˜ å°„

### å®¹å™¨å¯åŠ¨å¤±è´¥
```bash
docker-compose logs
```

### æ•°æ®åº“è¿æ¥å¤±è´¥
```bash
docker-compose logs db
```

### å‰ç«¯æ— æ³•è®¿é—®
æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

---

## ğŸ“ å¿«é€Ÿæµ‹è¯•

1. å¯åŠ¨æœåŠ¡åï¼Œæ‰“å¼€ http://localhost
2. ç‚¹å‡»"ç«‹å³æ³¨å†Œ"åˆ›å»ºè´¦æˆ·
3. ç™»å½•åè¿›å…¥æ–‡ä»¶ç®¡ç†é¡µé¢
4. ç‚¹å‡»"é€‰æ‹©æ–‡ä»¶"ä¸Šä¼ æµ‹è¯•æ–‡ä»¶
5. å°è¯•ä¸‹è½½å’Œåˆ é™¤åŠŸèƒ½

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£æˆ–æäº¤ Issueã€‚

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰
